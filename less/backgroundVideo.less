.backgroundvideo {
    // CSS Custom Properties for easy customization
    --button-size: 3.125rem; // 50px
    --button-position-bottom: 1.25rem; // 20px
    --button-position-right: 1.25rem; // 20px
    --button-z-index: 9999;
    --button-bg-color: rgba(0, 0, 0, 0.7);
    --button-bg-color-hover: rgba(0, 0, 0, 0.9);
    --button-border-width: 0.125rem; // 2px
    --button-border-color: rgba(255, 255, 255, 0.8);
    --button-text-color: white;
    --button-font-size: 1.25rem; // 20px
    --button-hover-scale: 1.1;
    --button-transition: all 0.3s ease;
    --button-focus-outline-width: 0.125rem; // 2px
    --button-focus-outline-offset: 0.125rem; // 2px
    
    position: absolute;
    // Use logical properties for RTL support
    inset-inline-end: 0;
    inset-block-end: 0;
    width: 100%;
    height: 100%;
    z-index: -1;
    pointer-events: none;
}

.backgroundvideo__container {
    width: 100%;
    height: 100%;
    position: relative;
    pointer-events: none;
    
    video, img {      
        width: 100%;
        height: 100%;
        object-fit: fill;
        object-position: center top;
        pointer-events: none;
    }
}

.has-backgroundvideo {
    position: relative;
}

// Custom play/pause button
// All styling can be customized via CSS variables above
.backgroundvideo__playpause {
    position: fixed;
    bottom: var(--button-position-bottom);
    // Use logical property for RTL support
    inset-inline-end: var(--button-position-right);
    z-index: var(--button-z-index);
    width: var(--button-size);
    height: var(--button-size);
    border-radius: 50%;
    background-color: var(--button-bg-color);
    border: var(--button-border-width) solid var(--button-border-color);
    color: var(--button-text-color);
    font-size: var(--button-font-size);
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: var(--button-transition);
    pointer-events: auto;
    
    &:hover {
        background-color: var(--button-bg-color-hover);
        transform: scale(var(--button-hover-scale));
    }
    
    &:focus {
        outline: var(--button-focus-outline-width) solid white;
        outline-offset: var(--button-focus-outline-offset);
    }
    
    &:focus-visible {
        outline: var(--button-focus-outline-width) solid white;
        outline-offset: var(--button-focus-outline-offset);
    }
}

// Show play icon when paused
.is-backgroundvideo-paused .backgroundvideo__playpause {
    .backgroundvideo__play-icon {
        display: inline;
    }
    .backgroundvideo__pause-icon {
        display: none;
    }
}

// Show pause icon when playing
.is-backgroundvideo-playing .backgroundvideo__playpause {
    .backgroundvideo__play-icon {
        display: none;
    }
    .backgroundvideo__pause-icon {
        display: inline;
    }
}

// Video state classes
.is-backgroundvideo-loading {
    // Add loading indicator styles if needed
}

.is-backgroundvideo-error {
    // Video failed to load - fallback image shown
}

.is-backgroundvideo-ready {
    // Video loaded successfully
}

.is-backgroundvideo-fallback {
    // Show fallback image
    video {
        display: none;
    }
}

// Responsive adjustments
@media (max-width: 56.25rem) { // 900px
    .backgroundvideo {
        --button-size: 2.75rem; // 44px
        --button-font-size: 1.125rem; // 18px
    }
}

@media (max-width: 32.5rem) { // 520px
    .backgroundvideo {
        --button-size: 2.75rem; // 44px - WCAG minimum touch target
        --button-position-bottom: 1rem; // 16px
        --button-position-right: 1rem; // 16px
        --button-font-size: 1rem; // 16px
    }
}

// Respect user's reduced motion preference
@media (prefers-reduced-motion: reduce) {
    .backgroundvideo video {
        animation: none !important;
        transition: none !important;
    }
    
    .backgroundvideo__playpause {
        transition: none !important;
        
        &:hover {
            transform: none !important;
        }
    }
}
